var prec=2;var fuel_max=100;var fuel=fuel_max;var landed=false;var crashed=false;var score=0;var t=0;var dt=0.016683;var timer=null;var timerFuel=null;var h=70.215652745797229;h=h.toFixed(prec);var y=10;var z=0;var zmax=h-y;zmax=zmax.toFixed(prec);var v=0;var g=1.622;var a=g;var vc=2;window.onload=function(){document.getElementById("showm").onclick=function(){document.getElementsByClassName("c")[0].style.display="block";stop();} document.getElementById("hidem").onclick=function(){document.getElementsByClassName("c")[0].style.display="none";start();} document.onclick=function(){if(a==g){motorOn();}else{motorOff();}} document.onkeydown=motorOn;document.onkeyup=motorOff;start();} function start(){timer=setInterval(function(){moverNave();},dt*1000);} function stop(){clearInterval(timer);clearInterval(timerFuel);document.getElementById("loader").style.animation="spin 1s linear 0";if(v<=vc){score=(100/t)+(10*fuel)+(zmax-60);document.getElementById("puntuacion").innerHTML=score.toFixed(0);document.getElementById("spaceship").src="img/rocket-off.png";landed=true;window.alert("Congratulations!! You just guided your crew gently onto the Moon!!");} else {crashed=true;document.getElementById("spaceship").src="img/explosion.png";document.body.style.backgroundImage='url("img/eject_crew.gif")';}} function moverNave(){t+=dt;document.getElementById("tiempo").innerHTML=t.toFixed(prec);v+=a*dt;document.getElementById("velocidad").innerHTML=v.toFixed(prec);document.getElementById("velocidadmeter").value=v;y+=v*dt;z=h-y;document.getElementById("altura").innerHTML=z.toFixed(prec);document.getElementById("alturameter").value=z;if(z>zmax){zmax=z;document.getElementById("maxaltura").innerHTML=zmax.toFixed(prec);} if(y<70){document.getElementById("nave").style.top=y+"%";}else{stop();}} function motorOn(){if(fuel>0){if(landed==false){if(crashed==false){a=-g;document.getElementById("spaceship").src="img/rocket-on.png";if(timerFuel==null) timerFuel=setInterval(function(){actualizarFuel();},100);}}}} function motorOff(){if(landed==false){if(crashed==false){a=g;document.getElementById("spaceship").src="img/rocket-off.png";clearInterval(timerFuel);timerFuel=null;}}} function actualizarFuel(){if(fuel>0)fuel-=1;document.getElementById("fuel").innerHTML=fuel.toFixed(prec);document.getElementById("fuelmeter").value=fuel;if(fuel<=0){document.getElementById("spaceship").src="img/rocket-off.png";}}